# 📆 Development Log – 2025-07-24

## 🎯 Objetivo principal
Integrar `Firebase Auth` usando Firebase v11+ con `React Native` y `Expo`, incluyendo el manejo de sesión con saldo inicial de usuario y configuración segura.

## ✅ Tareas realizadas
- [x] Se creó y configuró `AuthContext` para manejar el estado global de autenticación.
- [x] Se actualizó `LoginScreen.tsx` para registrar usuarios en Firebase con documento en Firestore y saldo inicial de 100000.
- [x] Se garantizó que el registro o login redirigiera automáticamente según el estado de sesión.
- [x] Se agregó protección de navegación condicional en `App.tsx`.
- [x] Se corrigió error de navegación `"Inicio" not assignable to parameter of type 'never'"`.

## ⚠️ Advertencias y problemas pendientes
- ⚠️ Firebase lanza advertencia:  
  `Auth (11.10.0): You are initializing Firebase Auth for React Native without providing AsyncStorage`.
  Esto se debe a que **Expo Go no soporta `initializeAuth`**. Se sugiere solucionarlo cuando se construya la app con `EAS Build`.

- ❌ Error persistente:  
  `The 'navigation' object hasn't been initialized yet`  
  Aparece al redirigir demasiado pronto (antes de que NavigationContainer esté montado). Se recomienda manejar navegación dentro del árbol renderizado en `AppNavigation`.

## 🔒 Seguridad y limpieza
- `.env` contiene las llaves sensibles de Firebase y fue excluido del repositorio con `.gitignore`.
- Se removió el uso directo de `navigation.navigate` desde `onAuthStateChanged` dentro de `LoginScreen`.

## 🧠 Observaciones
- Se usó la estructura recomendada por Expo para mantener la compatibilidad con `Expo Go`.
- Firebase v11 está funcionando, pero requiere atención posterior para persistencia de sesión.

---

🛑 **Estado final:**  
La app compila, navega y registra usuarios con saldo, pero presenta errores de navegación y persistencia de sesión aún no resueltos.
